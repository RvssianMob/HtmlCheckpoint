<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Fri Aug 26 2022 03:27:59 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="630837f83f689ac520eb1216" data-wf-site="6307f6d10be3849c63e6c19f">
<head>
  <meta charset="utf-8">
  <title>Code Search</title>
  <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4860764952041509"
       crossorigin="anonymous"></script> -->
  <meta content="Blackbox" name="description">
  <meta content="Code Search" property="og:title">
  <meta content="Blackbox" property="og:description">
  <meta content="Code Search" property="twitter:title">
  <meta content="Blackbox" property="twitter:description">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="../css/landingP.css" rel="stylesheet" type="text/css">
  <link href="../css/normalize-cs.css" rel="stylesheet" type="text/css">
  <link href="../css/webflow-cs.css" rel="stylesheet" type="text/css">
  <link href="../css/code-search.css" rel="stylesheet" type="text/css">
  <link href="css/tutorial.css" rel="stylesheet" type="text/css">
  <link href="../css/header.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link
    href="../../style/images/favicon.svg"
    rel="shortcut icon"
    type="image/x-icon"
  />
  <link href="../../style/images/webclip.png" rel="apple-touch-icon">
  <script src="/codemirror/lib/codemirror.js"></script>
  <link rel="stylesheet" href="/codemirror/lib/codemirror.css" />
  <script src="/codemirror/mode/javascript/javascript.js"></script>
  <script src="/codemirror/addon/edit/closetag.js"></script>
  <script src="/codemirror/addon/edit/closebrackets.js"></script>
  <link rel="stylesheet" href="/codemirror/theme/cobalt.css" />
  <style>
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .d-none{
    display: none;
  }
  .pricing {
      padding-right: 20px;
      padding-left: 20px;
  }
  .faq {
      padding-right: 20px;
      padding-left: 20px;
  }
  .suggestion-item {
    padding: 10px;
    cursor: pointer;
    transition: 0.3s ease all;
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .suggestion-holder {
    text-align: left;
  }

  .suggestion-icon {
    width: 20px;
    height: 20px;
    background-color: #000;
  }

  .suggestion-text {
    color: #fff;
    font-size: 17px;
  }
  .suggestion-text:hover{
    background-color: #1e2730;
  }

  .suggestion-subtext {
    font-size: 12px;
  }

  .suggestion-menu {
    flex-direction: column;
    gap: 5px;
    display: none;
    z-index: 99999;
  }

  .suggestion-menu.active {
    display: flex;
  }

  .suggestion-item:hover {
    background-color: #181f26;
  }

  .suggestion-menu::-webkit-scrollbar {
    width: 5px;
  }

  /* Track */
  .suggestion-menu::-webkit-scrollbar-track {
    background: transparent;
  }

  /* Handle */
  .suggestion-menu::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 50px;
  }

  /* Handle on hover */
  .suggestion-menu::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
  .toaster-alert {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background-color: #0052CE;
    color: white;
    min-width: 182px;
    z-index: 99999;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transform: translateY(70px);
    border-radius: 5px;
    transition: 0.3s ease all;
    margin-left: 550px;
  }
  .toaster-alert.active {
    transform: translateY(0);
  }

  .toaster-alert img {
    width: 16px;
    cursor: pointer;
    margin-left: 30px;
  }
  .CodeMirror{
    height:auto;
    background-color:transparent!important
  }
  .CodeMirror-gutters{
    background-color:transparent!important;
    border-right: 0!important;
  }
  .CodeMirror-linenumbers{
    padding-right:20px;
  }
  .search-buttn img{
    width:24px;
    height:24px;
  }
  .tab {
    padding: 10px 20px;
    background-color: #0d1117;
    cursor: pointer;
    transition: 0.3s ease all;
  }
  .tab:hover{
    background-color: #1e2730;
  }
  .tab.active{
    background-color: #1e2730;
  }
  .code-element-holder{
    display:none
  }
  .code-element-holder.active{
    display:block
  }
  .cm-s-cobalt .CodeMirror-linenumber{
    background-color: transparent;
  }
  .code-upper-holder{
    display:flex;
    gap:10px;
  }
  .el-holder{
    margin-bottom:40px;
  }
  -internal-autofill-selected {
    background-color: #171e25!important;
  }
  .top-bar{
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: #3a3a3a;
    border-radius: 5px 5px 0 0;
    padding:5px;
    color:#fff;
    font-size:12px;
  }
  .code-snippet-holder{
    border-radius: 8px;
    background-color: #10151a;
    padding:20px 0;
  }
  .code-comment{
    margin-bottom:15px;
    font-size:16px;
    line-height: 2;
    white-space: pre;
  }
  .code-copy{
    margin-right: 10px;
    color: #a5a5a5;
    padding: 5px;
    transition: 0.3s ease all;
    cursor: pointer;
  }
  .code-copy:hover{
    color:#fff;
  }
  .menu-item{
		width:142px;
		padding:0 20px;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.pricing{
		width:85px;
	}
	.faq {
		width:80px;
	}
  .features-list{
		top: 100%;
    left: 0;
		margin:0
	}
	.nav-link-angle {
		left: 52px;
	}
  .tab-simple-menu{
      margin-top:10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .code-tab{
      max-width: 162px;
        width: 162px;
    }
  .brand.w-nav-brand{
		width:175px;
	}
</style>
</head>
<body>
  <style>
		@media screen and (max-width: 1023px) {
			.search{
				width: 85%!important;
			}
			.title-holder{
				font-size:12px!important;
				margin-bottom:10px;
			}
			.text-xl._40ch{
				font-size:17px!important;
			}
      .process-steps-item{
				max-width:70%!important;
			}
		}
		@media screen and (max-width: 767px) {
			.title-holder{
				font-size:10px!important;
			}
			.text-xl._40ch{
				font-size:14px!important;
			}
			.process-steps-item{
				padding: 10px;
				margin-left:0;
        max-width:90%!important;
			}
			.codes-holder{
				padding:0!important;
			}
			.button-animated.small.w-inline-block{
				margin-left: 0px!important;
				padding: 8px!important;
			}
			.button-animated-copy.small.w-inline-block{
				padding: 8px!important;
			}
			.search{
				width:100%!important;
				margin-top:0;
				
			}
			.gist-input{
				padding-right:45px!important;
			}
      .CodeMirror{
				font-size: 12px;
			}
			.CodeMirror-gutter.CodeMirror-linenumbers{
				padding:0;
			}
		}
		@media screen and (max-width: 480px) {
			.section.bg-tile-top.bg-neutral-600{
				padding-top:1em;
			}
			.section.bg-neutral-800.curve-bottom{
				padding-top: 1em!important;
			}
			.navbar.w-nav{
				margin-top: 0;
				margin-bottom: 15px;
				height: 115px;
			}
      .navbar-controls{
				display:none
			}
			.w-layout-grid.navbar-list{
				display: flex;
				flex-direction: column;
				gap: 0px;
			}
      .process-steps-item{
        padding: 0;
        max-width:50%;
      }
      .search-buttn.loading .code-search-icon{
        display:none
      }
      .search-buttn.loading .code-search-loading{
        display:block
      }
      .code-tab{
        max-width: 85px
      }
      .tab-simple-menu{
        margin-top:10px;
        display: flex;
        align-items: center;
        justify-content: normal;
      }
      .tab-simple-menu::-webkit-scrollbar {
        display: none;
      }
    }
	</style>
  <style>
		.quality-toaster{
      position: fixed;
      bottom: 10px;
      left: -400px;
      background-color: #181f2a;
      border-radius: 5px;
      border: 1px solid #363636;
      padding: 10px;
      transition:0.3s ease all;
      width:300.19px;
      z-index: 99;
    }
    .quality-toaster.active{
      left: 10px;
    }
    .toaster-text{
      margin-bottom: 23px;
      text-align: center;
    }
    .toaster-icon {
      width: 35px;
      padding:5px;
      transition:0.3s ease all;
      border-radius:50%;		
        cursor: pointer;
    }
    .toaster-icon:hover {
      background-color: #202938;
    }
    .icons-holder{
      display: flex;
      align-items: center;
      justify-content: center;
      gap:20px;
    }
    .success-icon{
        display:none
    }
    .icons-holder.active .toaster-icon{
      display:none
    }
    .icons-holder.active .success-icon{
      display:block
    }
    .examples {
      gap: 5px;
      display: flex;
      flex-direction: column;
      padding: 0 14px;
      align-self: flex-start;
      margin-top:20px;
    }
    .result-tab {
      width: 100%;
      text-align: center;
      padding: 5px;
      margin: 0 2px;
      border-radius: 4px;
      transition: 0.3s ease all;
      cursor: pointer;
      border: 1px solid #444;
      opacity: 0.4;
    }
    .result-tab.active {
      opacity: 1;
    }
    .suggestion-tab:hover {
      opacity: 0.5;
    }
    .suggestion-tab {
      width: fit-content!important;
      margin: 0;
    }
  </style>
  <div class="toaster-alert">
    <div class="text content-centered"></div>
  </div>
  <div style="opacity:0" class="page-container">
    <div data-collapse="medium" data-animation="default" data-duration="0" data-easing="ease" data-easing2="ease" role="banner" class="navbar w-nav">
      <div class="w-layout-grid navbar-list">
        <a href="/" class="brand w-nav-brand"><img src="../../style/images/Group-4.png" loading="lazy" alt="" class="image-contain"></a>
        <nav role="navigation" id="w-node-_90910534-8503-0140-553b-dd5cfa0cbf12-fa0cbf10" class="navbar-nav-menu w-nav-menu">
          <div data-hover="true" data-delay="250" data-w-id="40671728-6c26-d2c7-4e8d-d785c00f677f" class="integrations w-dropdown menu-item">
            <a href="/search" class="nav-link-dropdown w-dropdown-toggle">
              <div>Code Search<span></span></div>
            </a>
            <!-- <nav class="nav-link-dropdown-list w-dropdown-list">
              <div class="nav-link-dropdown-content"><img src="../../style/images/dropdown_angle.svg" loading="lazy" alt="" class="nav-link-angle">
                <div class="w-layout-grid nav-link-content-list">
                  <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f6789-fa0cbf10" class="nav-link-content">
                    <div class="w-layout-grid nav-link-column">
                      <a id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f678b-fa0cbf10" href="http://www.useblackbox.io/history" class="nav-link-wrap w-inline-block">
                        <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f678c-fa0cbf10" class="w-layout-grid nav-link-item">
                          <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f678d-fa0cbf10" class="nav-link-icon-wrap">
                            <div class="nav-link-icon">rocket_launch</div>
                          </div>
                          <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f6790-fa0cbf10">
                            <div class="w-layout-grid nav-link-text-wrap">
                              <div class="nav-link-text">Visual Studio Code</div>
                              <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f6794-fa0cbf10" class="nav-link-icon-arrow">arrow_forward</div>
                            </div>
                            <div>Built to Make You a Rock Star Developer</div>
                          </div>
                        </div>
                      </a>
                      <a id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f6798-fa0cbf10" href="http://www.useblackbox.io/search" class="nav-link-wrap w-inline-block">
                        <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f6799-fa0cbf10" class="w-layout-grid nav-link-item">
                          <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f679a-fa0cbf10" class="nav-link-icon-wrap">
                            <div class="nav-link-icon">travel_explore</div>
                          </div>
                          <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f679d-fa0cbf10">
                            <div class="w-layout-grid nav-link-text-wrap">
                              <div class="nav-link-text">Jupyter Notebook</div>
                              <div id="w-node-_40671728-6c26-d2c7-4e8d-d785c00f67a1-fa0cbf10" class="nav-link-icon-arrow">arrow_forward</div>
                            </div>
                            <div>Find Any Code Snippet Instantly and Start Coding 100X Faster</div>
                          </div>
                        </div>
                      </a>
                      <a id="w-node-cc301b73-bc8d-c9aa-40b2-0df7202d51d6-fa0cbf10" href="http://www.useblackbox.io/search" class="nav-link-wrap w-inline-block">
                        <div id="w-node-cc301b73-bc8d-c9aa-40b2-0df7202d51d7-fa0cbf10" class="w-layout-grid nav-link-item">
                          <div id="w-node-cc301b73-bc8d-c9aa-40b2-0df7202d51d8-fa0cbf10" class="nav-link-icon-wrap">
                            <div class="nav-link-icon">travel_explore</div>
                          </div>
                          <div id="w-node-cc301b73-bc8d-c9aa-40b2-0df7202d51db-fa0cbf10">
                            <div class="w-layout-grid nav-link-text-wrap">
                              <div class="nav-link-text">Chrome, Edge &amp; FireFox</div>
                              <div id="w-node-cc301b73-bc8d-c9aa-40b2-0df7202d51df-fa0cbf10" class="nav-link-icon-arrow">arrow_forward</div>
                            </div>
                            <div>Find Any Code Snippet Instantly and Start Coding 100X Faster</div>
                          </div>
                        </div>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </nav> -->
          </div>
          <a href="/pricing" class="pricing w-inline-block menu-item">
            <div class="text-block-24">Pricing</div>
          </a>
          <!-- <a href="https://intercom.help/blackbox-ai-faq/en/collections/3698448-blackbox-ai-faq" class="faq w-inline-block menu-item">
            <div class="text-block-24">FAQ</div>
          </a> -->
          <a href="/pricing" class="faq w-inline-block menu-item">
            <div class="text-block-24">IDE</div>
          </a>
        </nav>
        <div id="w-node-_90910534-8503-0140-553b-dd5cfa0cbf37-fa0cbf10" class="navbar-controls">
          <div class="hide-mobile">
            <a href="/signup" class="button-animated-copy small w-inline-block">
              <div class="button-label">Signup</div>
              <div class="button-hover-background"></div>
            </a>
            <a href="https://marketplace.visualstudio.com/items?itemName=Blackboxapp.blackbox" style="margin-left:20px" class="button-animated small w-inline-block">
              <div class="button-label">Get VSCode Extension</div>
              <div class="button-hover-background" style="transform: translate3d(-101%, 0px, 0px) scale3d(1, 1, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg); transform-style: preserve-3d; display: none;"></div>
            </a>
          </div>
          <div data-w-id="90910534-8503-0140-553b-dd5cfa0cbf3d" class="menu-button w-nav-button">
            <div class="menu-button-wrap">
              <div class="menu-open">drag_handle</div>
              <div class="menu-close">close</div>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar-shadow"></div>
    </div>
    <div class="section-under-navbar">
      <div class="overflow-hidden" >
        <div class="section bg-neutral-800 curve-bottom">
          <div class="container-xl">
            <div class="bg-pattern-wrap centered"><img src="../../style/images/bg-shape-006.png" loading="lazy" srcset="../../style/images/bg-shape-006-p-500.png 500w, ../../style/images/bg-shape-006-p-800.png 800w, ../../style/images/bg-shape-006-p-1080.png 1080w, ../../style/images/bg-shape-006-p-1600.png 1600w, ../../style/images/bg-shape-006-p-2000.png 2000w, ../../style/images/bg-shape-006.png 3200w" sizes="100vw" alt="" class="bg-pattern-image"></div>
            <div class="margin-top margin-9xl">
              <div class="content-centered" style="margin-bottom:-3.25em;">
                <div class="margin-bottom margin-3xl title-holder">
                  <!-- <h1 class="title-lg _16ch">Turn any Question<br>into <span class="text-span-4">{Code}</span>.</h1> -->
                  <h1 class="title-lg-2">Turn Any<span class="text-span-12"> Question to {Code}</span>.</h1>
                </div>
                <div class="text-xl _40ch" data-translatable="" data-dom-i18n-id="i18n1672699895845482.8495951824525"><span>
                  <span class="text-gradient__indigo-3">
                    <strong>BLACKBOX</strong>
                    </span>&nbsp;is your&nbsp;
                    <span class="text-gradient__teal-3">
                      <strong>AI-Powered Coding Assistant</strong>
                    </span> so you can <span class="text-gradient__amber-2">
                      <strong>{Code} 10X Faster and Better</strong>
                    </span>
                  </span>
                </div>
                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="overflow-hidden">
      <div class="section bg-tile-top bg-neutral-600">
        <div class="container-lg codes-holder" style="padding-left: 3em;padding-right: 5em;">
          <div id="copy-code"></div>
          <div class="search">
            <div class="form-block w-form">
              <div id="email-form" name="email-form" data-name="Email Form" method="get" class="form">

                <input id='input-search' style="padding-right: 110px; box-shadow: inset 0 0 0 1.5px #ffffff;" type="search" class="text-field-rounded w-input gist-input" maxlength="256" name="email" data-name="Email" placeholder="Type your Question here" autocomplete="off" id="email" required="">
                
                <div class="submit-inside" style="transition: 0.3s ease all;">
                  <div onclick="searchResult()" id="tippy" class="button-animated small w-button search-buttn">
                    search
                    <img src="/style/images/loader.svg" class="loader d-none" alt="">
                    
                  </div>
                    
                </div>

                <div
											class="suggestion-menu"
											style="
												position: absolute;
												top: 100%;
												left: 50%;
												transform: translateX(-50%);
												width: 100%;
												border-left: 1px solid transparent;
												border-right: 1px solid transparent;
												border-bottom: 1px solid transparent;
												border-radius: 0 0 10px 10px;
												background-color: #1e2730;
												max-height: 235px;
												overflow-y: scroll;
											"
										>
											<div class="suggestion-item">
												<!-- <div class="suggestion-icon" >
													
												</div> -->
												<div class="suggestion-holder">
													<div class="suggestion-text" style="padding-top:10px;padding-bottom:10px;padding-left: 30px; cursor: pointer;" onclick="populateSearch(0)" >
														How to get the stock data of Tesla in python
													</div>
                          <div class="suggestion-text" style="padding-top:10px;padding-bottom:10px;padding-left: 30px; cursor: pointer;" onclick="populateSearch(1)" >
														Create a product with stripe in nodejs
													</div>
                          <div class="suggestion-text" style="padding-top:10px;padding-bottom:10px;padding-left: 30px; cursor: pointer;" onclick="populateSearch(2)" >
														Write a for loop in python
													</div>
													<!-- <div
														class="suggestion-subtext"
													>
														humbled by a little
														error
													</div> -->
												</div>
											</div>
										</div>
              </div>
            </div>
            <div style="cursor: pointer;" onclick="document.getElementById('input-search').value = 'how to write a for loop in python'" class="example" data-translatable="" data-dom-i18n-id="i18n1672701287913994.1898111042675"><span>
              Tip: Make sure to specify the language at the end of your question
              <br>
              <em>"how to write a for loop </em>
              <strong>
                <em>in python</em>
              </strong>
              <em>"</em>
              <span class="text-span-13"></span>
            </span></div>
            <div class="examples">
              <div class="examples-title">Here are some suggestions</div>
              <div class='result-tab active suggestion-tab'>create a stripe customer in python</div>
              <div class='result-tab active suggestion-tab'>create an express server in node js</div>
              <div class='result-tab active suggestion-tab'>find docs in mongodb in nodejs</div>
            </div>
          </div>
          <div class="process-steps-item rounded-xs" style="background-color: #171e2500; width: 100%;">
            <div class="margin-bottom margin-xl">
              <div class="w-layout-grid caption-holder">
                <div class="w-layout-grid row-sm">
                  <!-- <div onclick="copyCode()" id='copy-code' class="caption" style="cursor:pointer;">Copy Code snippet</div> -->
                </div>
                <div id="w-node-bb162d5f-df78-4512-9df7-ba1fce4d4fcd-20eb1216" class="line-holder">
                  <div id="w-node-bb162d5f-df78-4512-9df7-ba1fce4d4fce-20eb1216" class="line-animated"></div>
                </div>
              </div>
            </div>
            <div class="gist-area">
              <textarea id="codemirror-textarea" class="gist-area"></textarea>
            </div>
            <br><br><br><br>
            <div id="source" class="example" data-translatable="" data-dom-i18n-id="i18n1672701287913994.1898111042675"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-1-dark-with-cta">
    </div>
  </div>
  <!-- <div class="preloader"><img src="../../style/images/loader_three-dots-white.svg" loading="lazy" alt="" class="preloader-image"></div> -->
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=6307f6d10be3849c63e6c19f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="../js/webflow-cs.js" type="text/javascript"></script>
  <script>
    // for feedback positive or negative on the search result (lastSearchedQuery, lastViewedResult)
    let lastSearchedQuery = ''
    let lastViewedResult = []
    let lastViewedResultRank = 0

    var searchCount = 0;
    var codeResponse = ``
    var userId = "6456d74f6ce8c00034a4e5bb"
    if (userId == ''){//logged out
      if (localStorage.getItem('userId')==null){
        localStorage.setItem('userId', uuidv4())
      }
      userId = localStorage.getItem('userId');
    }
    function uuidv4() {
      return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>
        (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)
      );
    }
    function searchResult(){
      // document.getElementById('source').innerText=''
      $(".suggestion-menu").removeClass("active")
        $(".gist-input").css("border-radius", "2em")
        //display loader
        let mobileMaxWidth = 500
        if (screen.width < mobileMaxWidth){
          document.getElementById('copy-code').innerHTML=`<img src="../../style/images/loader_three-dots-white.svg" loading="lazy" alt="" class="preloader-image">`
        }else{
          document.getElementById('tippy').innerHTML = `<img src="/style/images/loader.svg" class="loader" alt="">`
        }
        if(!$(".text-holder").hasClass("loader")){
          const query = $(".gist-input").val().trim()
          var textInput = query
          if (query.split(' ').length <=2) {
            feedBackToaster('No results: Try using more than 2 words')
            document.getElementById('copy-code').innerHTML=``
          }
          if(query.split(' ').length > 2){
            // showLoader()
            lastSearchedQuery = query
            $.ajax({
              url:"/autocompletev4",
              method: "POST",
              contentType:"application/json",
              data: JSON.stringify({
                userId: userId,
                textInput: query,
                source: "webapp"
              }),
              success:async function(res){
                if(res.status === "success"){
                  //clear loader
                  if (screen.width < mobileMaxWidth){
                    document.getElementById('copy-code').innerHTML=``
                  }else{
                    document.getElementById('tippy').innerHTML = `search<img src="/style/images/loader.svg" class="loader d-none" alt="">`
                  }
                  if(res.response === undefined){
                    codeMirrorEditor.setValue('// Try another search')
                    // disableArea()
                    // removeLoader()
                  }
                  else{
                    removeSuggestions()
                    codeResponse = res.response
                    let allResults = []
                    if (res.allResults) allResults = res.allResults
                    if(codeResponse.length === 0){
                      codeResponse = [['//Try another search', '']]
                    }
                    //updating viewed result variables for feedback
                    lastViewedResult = codeResponse
                    lastViewedResultRank = '0'

                    var dataArr = codeResponse
                    const $holder = $(".codes-holder .process-steps-item")
                    $holder.empty()
                    const $elCopy = $('<div id="copy-code"></div>')
                    $holder.append($elCopy)
                    const $tabHolder = $("<div class='tab-simple-menu w-tab-menu'></div>")
                    $holder.append($tabHolder)
                    allResults.forEach((arr, idx)=>{
                      $tab = $(`<a class="tab-link-simple code-tab w-inline-block w-tab-link ${idx === 0 ? 'w--current': ''}" aria-selected="${idx === 0 ? 'true': 'false'}"><div>Result ${idx + 1}</div></a>`)
                      $tabHolder.append($tab)
                      $tab.on("click", function(){
                        if(!$(this).hasClass("w--current")){
                          $('body')[0].style.height='2500px'
                          $(".code-tab").removeClass("w--current")
                          $(this).addClass("w--current")
                          $(".el-holder").remove()
                          let indexResult = 0
                          try{
                            indexResult = parseInt($(this)[0].innerText.split('Result ')[1]) -1
                          }catch(e){}
                          returnOtherResults(allResults[indexResult], allResults)
                          selection(`Result ${indexResult}`)
                          
                          //updating viewed result variables for feedback
                          lastViewedResultRank = `${indexResult}`
                        }
                      })
                    })
                    dataArr.forEach((arr, idx)=>{
                      let comment =''
                      try{
                        comment = arr[1].trim()
                      }catch(e){}
                      const code = arr[0].trim()
                      const $el = $('<div class="el-holder"></div>')
                      if(comment.length > 0){
                        let $comment
                        if (comment.includes('Source: https://')){
                          let urlSource = comment.split('Source: ')[1]
                          $comment = $(`<div class="code-comment">`+comment+'</div>')
                        }else{
                          $comment = $('<div class="code-comment">'+comment+'</div>')
                        }
                        $el.append($comment)
                      }
                      if(code.length > 0){
                        const $code = $('<div class="code-snippet-holder"><textarea class="code-snippet">'+code+'</textarea></div>')
                        $el.append($code)
                      }
                      //<div class="top-bar"><div class="code-language"></div><div class="code-copy">Copy</div></div>
                      $holder.append($el)
                      if(code.length > 0){
                        const codeMirrorEditor = CodeMirror.fromTextArea($el.find(".code-snippet")[0], {
                          lineNumbers: true,
                          theme:"cobalt",
                          mode: "javascript",
                          viewportMargin: Infinity,
                          readOnly: true
                        })
                      }
                    })
                    searchLimit(codeResponse)
                    // enableArea()
                    // removeLoader()

                    // display the feedback toaster
                    if (res.response.length>0) {
                      showQualityToaster()
                    }else{
                      if ($('.quality-toaster')[0] != undefined){
                        hideQualityToaster()
                      }
                    }
                  }
                  $(".suggestion-menu").removeClass("active")
                  $(".gist-input").css("border-radius", "2em")
                  
                }
              }
            })
          }
        }
    }

    function showQualityToaster(){
      setTimeout(async function (){
        const $el = $(`<div class="quality-toaster">
            <div class="toaster-text">How was the quality of your answer?</div>
            <div class="icons-holder">
              <img src="/style/images/thumbs-down.png" alt="" class="bad-icon toaster-icon">
              <img src="/style/images/thumbs-up.png" alt="" class="good-icon toaster-icon">
              <img src="/style/images/white-check.png" class="success-icon toaster-icon">
            </div>
          </div>`)
          $el.find(".toaster-icon").on("click", function(){
            // 1 means thumbs up and -1 is thumbs down
            var feedback = '1'
            if($(this).hasClass("bad-icon")){
              feedback = '-1'
            }
            qualityToasterSuccess()
            $.ajax({
              url:"/feedbackQueryResult",
              method:"POST",
              contentType:"application/json",
              data:JSON.stringify({feedback, query: lastSearchedQuery, codeCommentArray: lastViewedResult, resultRank: lastViewedResultRank, userId}),
              success:function(res){
                qualityToasterSuccess()
              }
            })
          })
        $("body").prepend($el)
        setTimeout(() => {
          $(".quality-toaster").addClass("active")
        }, 50);	
      }, 300)
    }
    function hideQualityToaster(){
      setTimeout(() => {
        setTimeout(()=>{$(".quality-toaster").remove()},300)
        $(".quality-toaster").removeClass("active")
      }, 1000);
    }
    function qualityToasterSuccess(){
      $(".quality-toaster").find(".toaster-text").text("Thank you!")
      $(".quality-toaster").find(".icons-holder").addClass("active")
      hideQualityToaster()
    }

    async function returnOtherResults(url, allResults){
      $.ajax({
        url:"/otherResults",
        method: "POST",
        contentType:"application/json",
        data: JSON.stringify({
          url: url
        }),
        success:async function(res){
          $('body')[0].style.height='1000px'
          if (res.response){
            codeResponse = res.response
            
            lastViewedResult = codeResponse //updating viewed result variables for feedback

            if(codeResponse.length === 0){
              codeResponse = [['//Try another search', '']]
            }
            var dataArr = codeResponse
            const $holder = $(".codes-holder .process-steps-item")
            if (dataArr.length == 1 && dataArr[0][0] == '' &&  dataArr[0][1] == ''){
              dataArr = [['', `Source: ${url}`]]
            }
            dataArr.forEach((arr, idx)=>{
              let comment =''
              try{
                comment = arr[1].trim()
              }catch(e){}
              const code = arr[0].trim()
              const $el = $('<div class="el-holder"></div>')
              if(comment.length > 0){
                let $comment
                if (comment.includes('Source: https://')){
                  let urlSource = comment.split('Source: ')[1]
                  $comment = $(`<div class="code-comment">`+comment+'</div>')
                }else{
                  $comment = $('<div class="code-comment">'+comment+'</div>')
                }
                $el.append($comment)
              }
              if(code.length > 0){
                const $code = $('<div class="code-snippet-holder"><textarea class="code-snippet">'+code+'</textarea></div>')
                $el.append($code)
              }
              //<div class="top-bar"><div class="code-language"></div><div class="code-copy">Copy</div></div>
              $holder.append($el)
              if(code.length > 0){
                const codeMirrorEditor = CodeMirror.fromTextArea($el.find(".code-snippet")[0], {
                  lineNumbers: true,
                  theme:"cobalt",
                  mode: "javascript",
                  viewportMargin: Infinity,
                  readOnly: true
                })
              }
            })
          }
        }
      })
    }
    $(document).on("keydown", ".gist-input", function(e){
      const key = e.key
      if(key === "Enter"){
        searchResult()
      }
    })
    function populateSearch(i){
      var response = ''
      if (i==0){
        $(".gist-input")[0].value = 'how to get the stock data of Tesla in python'
        response = `
import urllib.request, json
resp = urllib.request.urlopen('https://query2.finance.yahoo.com/v10/finance/quoteSummary/tsla?modules=price')
data = json.loads(resp.read())
price = data['quoteSummary']['result'][0]['price']['regularMarketPrice']['raw']
print(price)
        `
        // $('.gist-area')[0].innerText=response
        codeMirrorEditor.setValue(response)
        selection('Demo Search')
        $(".suggestion-menu").removeClass("active")
        $(".gist-input").css("border-radius", "2em")
      }else if(i==1){
        $(".gist-input")[0].value = 'Create a product with stripe in nodejs'
        response=`const stripe = require('stripe')('sk_test_your_key');

const product = await stripe.products.create({
  name: 'Gold Special',
});`
      }else if(i==2){
        $(".gist-input")[0].value = 'Write a for loop in python'
        response = `mylist = [1,2,3]
for item in mylist:
    print item

mydict  = {1:'one', 2:'two', 3:'three'}
for key in mydict:
    print key, mydict[key]


for i, item in enumerate(mylist):
    mylist[i] = item**2
        `
        // searchResult()
      }
      codeResponse = response;
      var fullTextArr = response.split('\n');
      var fullHtml = ``
      for (var i=0;i<fullTextArr.length;i++){
        fullTextArr[i] = fullTextArr[i].split(' ').join(' ')
        fullHtml+=`<br>${fullTextArr[i]}`
      }
      // $('.gist-area')[0].innerHTML=fullHtml
      codeMirrorEditor.setValue(codeResponse)
      selection('Demo Search')
      $(".suggestion-menu").removeClass("active")
      $(".gist-input").css("border-radius", "2em")
    }

    function selection(selected) {
      var data = JSON.stringify({selected: selected});
      var xhr = new XMLHttpRequest();
      xhr.withCredentials = true;
      xhr.addEventListener("readystatechange", function() {
        if(this.readyState === 4) { }
      });
      xhr.open("POST", "/selection");
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.send(data);
    }
    // document.getElementById('input-search').focus()

    function copyCode() {
      copyTextToClipboard(codeResponse)
      document.getElementById('copy-code').innerText = `CODE SNIPPET COPIED!`
      setTimeout ( async function ( ) {
        document.getElementById('copy-code').innerText = ``
      } , 3000 )
      selection('Copied Search')
    }

    function copyTextToClipboard(element) {
      var $temp = $("<textarea>")
      $("body").append($temp)
      $temp.val(element).select()
      document.execCommand("copy")
      $temp.remove()
    }

    async function displayDelay(i){
      return new Promise(resolve => {
        setTimeout(function (){resolve(true)}, 10)
      })
    }
    async function trigger(){
      let source = 'Source: '+codeResponse.split('\n\n//Source: ')[1]
      codeResponse = codeResponse.split('\n\n//Source: ')[0]
      if (codeResponse.startsWith('//Source: ')){
        source = 'Source: '+codeResponse.split('//Source: ')[1].split('\n')[0]
        codeResponse = codeResponse.split(source+'\n')[1]
      }
      i=0
      if (codeResponse.split('\n').length>50){
        codeMirrorEditor.setValue(codeResponse)
        document.getElementById('source').innerText=source
      }else{
        while (i<codeResponse.length){
          await displayDelay(i)
          codeMirrorEditor.setValue(codeResponse.slice(0,i))
          i+=1
        }
        if (i=>codeResponse.length) document.getElementById('source').innerText=source
      }
    }
    function selection(selected) {
      var data = JSON.stringify({selected: selected});
      var xhr = new XMLHttpRequest();
      xhr.withCredentials = true;
      xhr.addEventListener("readystatechange", function() {
        if(this.readyState === 4) { }
      });
      xhr.open("POST", "/selection");
      xhr.setRequestHeader("Content-Type", "application/json");
      xhr.send(data);
    }
			// $(document).on("focus", ".gist-input", function () {
			// 	$(".suggestion-menu").addClass("active")
			// 	$(".gist-input").css("border-radius", "10px 10px 0 0")
			// })
			// $(document).on("click", function (e) {
			// 	if (!$(e.target).hasClass("gist-input")) {
			// 		$(".suggestion-menu").removeClass("active")
			// 		$(".gist-input").css("border-radius", "2em")
			// 	}
			// })
			// $(document).on("click", ".gist-input", function () {
			// 	const text = $(this).find(".suggestion-text").text().trim()
			// })
		</script>
  </script>
  <script>
    window.intercomSettings = {
      api_base: "https://api-iam.intercom.io",
      app_id: "dvcyc8ps"
    };
  </script>

  <script>
  // We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/nfeq61mn'
  (function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/nfeq61mn';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(document.readyState==='complete'){l();}else if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();
  </script>
  <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-analytics.js"></script>
  <script>
    var firebaseConfig = {
			  apiKey: "AIzaSyCEYXcWms_JnTpfRMa-8Y-de95SBKQzFvE",
			  authDomain: "blackbox-db76a.firebaseapp.com",
			  projectId: "blackbox-db76a",
			  storageBucket: "blackbox-db76a.appspot.com",
			  messagingSenderId: "517495162233",
			  appId: "1:517495162233:web:63d4d8852f057f0b4e5ba8",
			  measurementId: "G-3ZPT60N811"
			};
			firebase.initializeApp(firebaseConfig);
			firebase.analytics().logEvent('Visit_Search');
  </script>
  <script src="/js/detectMobile.js"></script>
  <script>
      if (isMobile) {
        document.getElementsByClassName('search')[0].style='width:100%'
        document.getElementById('tippy').classList.add('d-none');
      }
      if (window.location.href.includes('search?q=') ){
        var query = window.location.href.split('search?q=')[1].split('%20').join(' ');
        $(".gist-input")[0].value = query;
        searchResult()
      }
      function searchLimit(codeResponse){
        let isPremium = false
        try{
          isPremium = false
        }catch(e){}
        if (isPremium == false) {
          if (codeResponse.length > 0){
            searchCount+=1
          }
          
          try {
            userIdLoggedIn = "6456d74f6ce8c00034a4e5bb"
            if (userIdLoggedIn == '') {
              if(searchCount % 5 == 0 && searchCount != 0) window.location.href=`/signup?ref=websearch`
            } else {
              if(searchCount % 10 == 0 && searchCount != 0) window.location.href=`/pricing?userId=${userIdLoggedIn}&ref=search`
            }
          }catch(e){
            window.location.href='/pricing?ref=search'
          }
        }
      }
      function feedBackToaster(msg) {
        const toaster = $(".toaster-alert")
        $(toaster).find(".text").text(msg)
        if (!$(toaster).hasClass("active")) {
          $(toaster).addClass("active")
        }
        setTimeout(() => {
          $(toaster).removeClass("active")
        }, 3000)
      }

      function visit(domain) {
        var data = JSON.stringify({visit: domain});
        var xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        xhr.addEventListener("readystatechange", function() {
          if(this.readyState === 4) { }
        });
        xhr.open("POST", "/visit");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(data);
      }
      //document referrer
      visit(document.referrer)

      //suggestions for search
      function removeSuggestions(){
        $(".examples").remove()
      }
      $(".suggestion-tab").on("click", function(){
        const query = $(this).text()
        $(".gist-input").val(query)
        searchResult()
      })

  </script>
  <script>
    var codeMirrorEditor = CodeMirror.fromTextArea($("#codemirror-textarea")[0], {
      lineNumbers: true,
      theme:"cobalt",
      mode: "javascript",
      autoCloseBrackets: true,
      viewportMargin: Infinity,
    })
    document.getElementById('input-search').focus()
  </script>
</body>
</html>